<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常规安装 | Sugar</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Sugar">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.87787286.js" as="script"><link rel="preload" href="/assets/js/2.7474dc9b.js" as="script"><link rel="preload" href="/assets/js/28.665889f0.js" as="script"><link rel="prefetch" href="/assets/js/10.f2c09d91.js"><link rel="prefetch" href="/assets/js/100.31dbbd22.js"><link rel="prefetch" href="/assets/js/11.ab3c80b7.js"><link rel="prefetch" href="/assets/js/12.d63bbe50.js"><link rel="prefetch" href="/assets/js/13.32e6b473.js"><link rel="prefetch" href="/assets/js/14.f5f53505.js"><link rel="prefetch" href="/assets/js/15.7c1473bf.js"><link rel="prefetch" href="/assets/js/16.741dad00.js"><link rel="prefetch" href="/assets/js/17.d1723ba1.js"><link rel="prefetch" href="/assets/js/18.598fa16b.js"><link rel="prefetch" href="/assets/js/19.2872ff11.js"><link rel="prefetch" href="/assets/js/20.aaebf09b.js"><link rel="prefetch" href="/assets/js/21.6fe37cfb.js"><link rel="prefetch" href="/assets/js/22.e816f1dd.js"><link rel="prefetch" href="/assets/js/23.aa12e97d.js"><link rel="prefetch" href="/assets/js/24.39c48b23.js"><link rel="prefetch" href="/assets/js/25.d0a801eb.js"><link rel="prefetch" href="/assets/js/26.b8858599.js"><link rel="prefetch" href="/assets/js/27.efe7508c.js"><link rel="prefetch" href="/assets/js/29.35ad5d33.js"><link rel="prefetch" href="/assets/js/3.afdd60e2.js"><link rel="prefetch" href="/assets/js/30.5e1a82f7.js"><link rel="prefetch" href="/assets/js/31.b432b24d.js"><link rel="prefetch" href="/assets/js/32.32bc3001.js"><link rel="prefetch" href="/assets/js/33.2d49e809.js"><link rel="prefetch" href="/assets/js/34.4b5f764a.js"><link rel="prefetch" href="/assets/js/35.ceb9d252.js"><link rel="prefetch" href="/assets/js/36.13ae58d4.js"><link rel="prefetch" href="/assets/js/37.a70a7b9c.js"><link rel="prefetch" href="/assets/js/38.0f560cc1.js"><link rel="prefetch" href="/assets/js/39.201caad1.js"><link rel="prefetch" href="/assets/js/4.c5ce5fb4.js"><link rel="prefetch" href="/assets/js/40.b9ab535d.js"><link rel="prefetch" href="/assets/js/41.88216b6f.js"><link rel="prefetch" href="/assets/js/42.0364b286.js"><link rel="prefetch" href="/assets/js/43.f4d17a1d.js"><link rel="prefetch" href="/assets/js/44.04bd056d.js"><link rel="prefetch" href="/assets/js/45.d18bd618.js"><link rel="prefetch" href="/assets/js/46.52048131.js"><link rel="prefetch" href="/assets/js/47.2619df9c.js"><link rel="prefetch" href="/assets/js/48.62293875.js"><link rel="prefetch" href="/assets/js/49.ee8db2f4.js"><link rel="prefetch" href="/assets/js/5.430e5ee0.js"><link rel="prefetch" href="/assets/js/50.46c0678a.js"><link rel="prefetch" href="/assets/js/51.45011951.js"><link rel="prefetch" href="/assets/js/52.bf81a524.js"><link rel="prefetch" href="/assets/js/53.f07d53be.js"><link rel="prefetch" href="/assets/js/54.fb65738f.js"><link rel="prefetch" href="/assets/js/55.3a3c7c03.js"><link rel="prefetch" href="/assets/js/56.9c4d1c26.js"><link rel="prefetch" href="/assets/js/57.e5a70254.js"><link rel="prefetch" href="/assets/js/58.5ef7a38e.js"><link rel="prefetch" href="/assets/js/59.ac55374e.js"><link rel="prefetch" href="/assets/js/6.8bd84f3d.js"><link rel="prefetch" href="/assets/js/60.a9f185d1.js"><link rel="prefetch" href="/assets/js/61.4691b1f0.js"><link rel="prefetch" href="/assets/js/62.19a13ebb.js"><link rel="prefetch" href="/assets/js/63.7ded963b.js"><link rel="prefetch" href="/assets/js/64.ef2ed6fc.js"><link rel="prefetch" href="/assets/js/65.b31da18d.js"><link rel="prefetch" href="/assets/js/66.2486639a.js"><link rel="prefetch" href="/assets/js/67.70fc71c6.js"><link rel="prefetch" href="/assets/js/68.fc5262a5.js"><link rel="prefetch" href="/assets/js/69.92c0bf80.js"><link rel="prefetch" href="/assets/js/7.bb64f78e.js"><link rel="prefetch" href="/assets/js/70.53830da0.js"><link rel="prefetch" href="/assets/js/71.98ac4b82.js"><link rel="prefetch" href="/assets/js/72.953b023e.js"><link rel="prefetch" href="/assets/js/73.7153dfd0.js"><link rel="prefetch" href="/assets/js/74.a69b16c5.js"><link rel="prefetch" href="/assets/js/75.90a10999.js"><link rel="prefetch" href="/assets/js/76.0fb3a421.js"><link rel="prefetch" href="/assets/js/77.d043222c.js"><link rel="prefetch" href="/assets/js/78.d404934c.js"><link rel="prefetch" href="/assets/js/79.fe5693cf.js"><link rel="prefetch" href="/assets/js/8.de2f67b9.js"><link rel="prefetch" href="/assets/js/80.4a11c23e.js"><link rel="prefetch" href="/assets/js/81.be0355cb.js"><link rel="prefetch" href="/assets/js/82.08c9702a.js"><link rel="prefetch" href="/assets/js/83.c314c22c.js"><link rel="prefetch" href="/assets/js/84.e6f1bbcb.js"><link rel="prefetch" href="/assets/js/85.0e39afd3.js"><link rel="prefetch" href="/assets/js/86.c3d611e8.js"><link rel="prefetch" href="/assets/js/87.d5fbf7bd.js"><link rel="prefetch" href="/assets/js/88.f735d6fb.js"><link rel="prefetch" href="/assets/js/89.2e900324.js"><link rel="prefetch" href="/assets/js/9.d7379f7d.js"><link rel="prefetch" href="/assets/js/90.76c03561.js"><link rel="prefetch" href="/assets/js/91.aa36d6e6.js"><link rel="prefetch" href="/assets/js/92.3f1dacf4.js"><link rel="prefetch" href="/assets/js/93.baa00a98.js"><link rel="prefetch" href="/assets/js/94.dac730b5.js"><link rel="prefetch" href="/assets/js/95.abd38298.js"><link rel="prefetch" href="/assets/js/96.fae986f1.js"><link rel="prefetch" href="/assets/js/97.c4aaa517.js"><link rel="prefetch" href="/assets/js/98.7d85573e.js"><link rel="prefetch" href="/assets/js/99.5879968c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sugar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker入门-介绍.html" class="sidebar-link">介绍</a></li><li><a href="/运维/Docker/Docker入门-架构.html" class="sidebar-link">架构</a></li><li><a href="/运维/Docker/Docker入门-安装.html" class="sidebar-link">安装</a></li><li><a href="/运维/Docker/Docker入门-常用命令.html" class="sidebar-link">常用命令</a></li><li><a href="/运维/Docker/Docker入门-镜像.html" class="sidebar-link">镜像</a></li><li><a href="/运维/Docker/Docker入门-数据卷.html" class="sidebar-link">数据卷</a></li><li><a href="/运维/Docker/Docker入门-相关软件环境安装.html" class="active sidebar-link">相关软件环境安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#常规安装" class="sidebar-link">常规安装</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#安装tomcat" class="sidebar-link">安装tomcat</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#安装mysql" class="sidebar-link">安装mysql</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#安装redis" class="sidebar-link">安装redis</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#mysql集群安装" class="sidebar-link">mysql集群安装</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-相关软件环境安装.html#redis集群安装" class="sidebar-link">redis集群安装</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker进阶-Dockerfile.html" class="sidebar-link">Dockerfile</a></li><li><a href="/运维/Docker/Docker进阶-网络.html" class="sidebar-link">网络</a></li><li><a href="/运维/Docker/Docker进阶-Docker Compose容器编排.html" class="sidebar-link">Docker Compose容器编排</a></li><li><a href="/运维/Docker/Docker进阶-轻量级可视化工具Portainer.html" class="sidebar-link">轻量级可视化工具Portainer</a></li><li><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html" class="sidebar-link">容器监控CAdvisor+InfluxDB+Granfana</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="常规安装"><a href="#常规安装" class="header-anchor">#</a> 常规安装</h2> <p>安装步骤</p> <ol><li><p>搜索镜像</p></li> <li><p>拉取镜像</p></li> <li><p>查看镜像</p></li> <li><p>启动镜像（服务端口映射）</p></li> <li><p>停止容器</p></li> <li><p>移除容器</p></li></ol> <h2 id="安装tomcat"><a href="#安装tomcat" class="header-anchor">#</a> 安装tomcat</h2> <ol><li>docker hub查找tomcat</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> search tomcat
</code></pre></div><ol start="2"><li>拉取镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull tomcat
</code></pre></div><ol start="3"><li>查看是否拉取成功</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> images tomcat
</code></pre></div><ol start="4"><li>运行tomcat</li></ol> <p>后台模式运行</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">18080</span>:8080 tomcat
</code></pre></div><p>交互模式运行</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-p</span> <span class="token number">18080</span>:8080 tomcat
</code></pre></div><ol start="5"><li>在宿主机访问tomcat首页，发现返回404</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># curl -X GET 'localhost:18080'</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>doctype html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>HTTP Status <span class="token number">404</span> – Not Found<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span><span class="token operator">&lt;</span>style <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span><span class="token operator">&gt;</span>body <span class="token punctuation">{</span>font-family:Tahoma,Arial,sans-serif<span class="token punctuation">;</span><span class="token punctuation">}</span> h1, h2, h3, b <span class="token punctuation">{</span>color:white<span class="token punctuation">;</span>background-color:<span class="token comment">#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;h3&gt;Apache Tomcat/10.0.14&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;</span>
</code></pre></div><ol start="6"><li>解决404</li></ol> <ul><li>检查端口映、防火墙</li> <li>将webapps.dist目录换成webapps，原来的webapps文件夹直接删除。</li></ul> <ol start="7"><li>再次测试，正常访问</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># curl -X GET 'localhost:18080'</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Apache Tomcat/10.0.1<span class="token operator"><span class="token file-descriptor important">4</span>&lt;</span>/title<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>link <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;favicon.ico&quot;</span> <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;image/x-icon&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>link <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;tomcat.css&quot;</span> <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;wrapper&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;navigation&quot;</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;curved container&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;nav-home&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;https://tomcat.apache.org/&quot;</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;nav-hosts&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;/docs/&quot;</span><span class="token operator">&gt;</span>Documentation<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>
<span class="token punctuation">..</span>.
</code></pre></div><ol start="8"><li>下载运行免修版tomcat</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker search billygoo/tomcat8-jdk8</span>
NAME                    DESCRIPTION                               STARS     OFFICIAL   AUTOMATED
billygoo/tomcat8-jdk8   Install openjdk8 using tomcat:8.0-jre8.   <span class="token number">3</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker pull billygoo/tomcat8-jdk8</span>
<span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker run -d -p 18081:8080 billygoo/tomcat8-jdk8</span>
<span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker ps -a |grep Up|grep tomcat</span>
f0e8351ee583   billygoo/tomcat8-jdk8   <span class="token string">&quot;catalina.sh run&quot;</span>         About a minute ago   Up About a minute             <span class="token number">0.0</span>.0.0:18081-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::18081-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   crazy_swirles
7db42d3d3192   tomcat                  <span class="token string">&quot;catalina.sh run&quot;</span>         <span class="token number">14</span> minutes ago       Up <span class="token number">14</span> minutes                 <span class="token number">0.0</span>.0.0:18080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::18080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   compassionate_elgamal
<span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># curl -X GET 'localhost:18081'</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Apache Tomcat/8.0.5<span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>/title<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>link <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;favicon.ico&quot;</span> <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;image/x-icon&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>link <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;favicon.ico&quot;</span> <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;shortcut icon&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;image/x-icon&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>link <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;tomcat.css&quot;</span> <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>

</code></pre></div><h2 id="安装mysql"><a href="#安装mysql" class="header-anchor">#</a> 安装mysql</h2> <ol><li>下载docker镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull mysql:5.7
</code></pre></div><ol start="2"><li>运行镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run  <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> mysql:5.7
</code></pre></div><ol start="3"><li>创建表，插入数据</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> 355421ecacb2 /bin/bash
root@355421ecacb2:/<span class="token comment"># mysql -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">2</span>
Server version: <span class="token number">5.7</span>.36 MySQL Community Server <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2021</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> create database db1<span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> use db1<span class="token punctuation">;</span>
Database changed
mysql<span class="token operator">&gt;</span> create table tb1 <span class="token punctuation">(</span>name varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

</code></pre></div><p>无法插入中文</p> <p><img src="/assets/img/docker_az04.51abf635.jpg" alt=""></p> <p>字符集是latin</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span>  <span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'character%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------------+----------------------------+</span>
<span class="token operator">|</span> Variable_name            <span class="token operator">|</span> <span class="token keyword">Value</span>                      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+----------------------------+</span>
<span class="token operator">|</span> character_set_client     <span class="token operator">|</span> latin1                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_connection <span class="token operator">|</span> latin1                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_database   <span class="token operator">|</span> latin1                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_filesystem <span class="token operator">|</span> <span class="token keyword">binary</span>                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_results    <span class="token operator">|</span> latin1                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_server     <span class="token operator">|</span> latin1                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_system     <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_sets_dir       <span class="token operator">|</span> <span class="token operator">/</span>usr<span class="token operator">/</span><span class="token keyword">share</span><span class="token operator">/</span>mysql<span class="token operator">/</span>charsets<span class="token operator">/</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+----------------------------+</span>
</code></pre></div><p>以上出现两个问题</p> <ul><li>字符集问题</li> <li>容器一旦删除mysql数据无法恢复</li></ul> <ol start="4"><li>解决数据持久问题
将mysql容器内的目录使用数据卷方式与宿主机目录映射</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token parameter variable">-v</span> /data/dockerShare/mysql/log:/var/log/mysql <span class="token parameter variable">-v</span> /data/dockerShare/mysql/data:/var/lib/mysql <span class="token parameter variable">-v</span> /data/dockerShare/mysql/conf:/etc/mysql/conf.d <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span>  <span class="token parameter variable">--name</span> mysql mysql:5.7
</code></pre></div><ol start="5"><li>解决字符集问题</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># cd /data/dockerShare/mysql/conf/</span>
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># vi my.cnf</span>
<span class="token comment"># 输入如下内容</span>
<span class="token punctuation">[</span>client<span class="token punctuation">]</span>
<span class="token assign-left variable">default_character_set</span><span class="token operator">=</span>utf8
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
collation_server <span class="token operator">=</span> utf8_general_ci
character_set_server <span class="token operator">=</span> utf8
</code></pre></div><ol start="6"><li>重启mysql容器</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> restart mysql
</code></pre></div><ol start="7"><li>进入测试mysql</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker exec -it mysql /bin/bash</span>
root@3aafdaf6a886:/<span class="token comment"># mysql -uroot -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">2</span>
Server version: <span class="token number">5.7</span>.36 MySQL Community Server <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2021</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> create database db1<span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> use db1<span class="token punctuation">;</span>
Database changed

mysql<span class="token operator">&gt;</span> create table tb1 <span class="token punctuation">(</span>name varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

<span class="token comment"># 字符集已经发生变化，读取了宿主机中的配置文件</span>
mysql<span class="token operator">&gt;</span> SHOW VARIABLES LIKE <span class="token string">'character%'</span><span class="token punctuation">;</span>
+--------------------------+----------------------------+
<span class="token operator">|</span> Variable_name            <span class="token operator">|</span> Value                      <span class="token operator">|</span>
+--------------------------+----------------------------+
<span class="token operator">|</span> character_set_client     <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_set_connection <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_set_database   <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_set_filesystem <span class="token operator">|</span> binary                     <span class="token operator">|</span>
<span class="token operator">|</span> character_set_results    <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_set_server     <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_set_system     <span class="token operator">|</span> utf8                       <span class="token operator">|</span>
<span class="token operator">|</span> character_sets_dir       <span class="token operator">|</span> /usr/share/mysql/charsets/ <span class="token operator">|</span>
+--------------------------+----------------------------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>


</code></pre></div><ol start="8"><li>成功插入数据</li></ol> <p><img src="data:image/jpeg;base64,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" alt=""></p> <ol start="9"><li>查询</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from tb1<span class="token punctuation">;</span>
+--------+
<span class="token operator">|</span> name   <span class="token operator">|</span>
+--------+
<span class="token operator">|</span> 张三   <span class="token operator">|</span>
+--------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> 
</code></pre></div><ol start="8"><li>测试删除容器，重新创建容器是否还会保留</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker ps -a |grep mysql</span>
3aafdaf6a886   mysql:5.7               <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">16</span> minutes ago      Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">4</span> minutes ago                                                     mysql
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker rm -f 3aafdaf6a886</span>
3aafdaf6a886

<span class="token comment"># 重新创建容器</span>
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker run -d -p 3306:3306 --privileged=true -v /data/dockerShare/mysql/log:/var/log/mysql -v /data/dockerShare/mysql/data:/var/lib/mysql -v /data/dockerShare/mysql/conf:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456  --name mysql mysql:5.7 </span>

<span class="token comment"># 查看数据是否存在</span>

<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker exec -it fe988e202923 /bin/bash</span>
root@fe988e202923:/<span class="token comment"># mysql -uroot -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">2</span>
Server version: <span class="token number">5.7</span>.36 MySQL Community Server <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2021</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+--------------------+
<span class="token operator">|</span> Database           <span class="token operator">|</span>
+--------------------+
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> db1                <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span>
<span class="token operator">|</span> sys                <span class="token operator">|</span>
+--------------------+
<span class="token number">5</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> use db1<span class="token punctuation">;</span>
Reading table information <span class="token keyword">for</span> completion of table and <span class="token function">column</span> names
You can turn off this feature to get a quicker startup with <span class="token parameter variable">-A</span>

Database changed
mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> tb1           <span class="token operator">|</span>
+---------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from tb1<span class="token punctuation">;</span>
+--------+
<span class="token operator">|</span> name   <span class="token operator">|</span>
+--------+
<span class="token operator">|</span> 张三   <span class="token operator">|</span>
+--------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> 

</code></pre></div><h2 id="安装redis"><a href="#安装redis" class="header-anchor">#</a> 安装redis</h2> <ol><li>下载镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull redis:6.0.8
</code></pre></div><ol start="2"><li>创建数据卷共享目录</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/dockerShare/redis
</code></pre></div><ol start="3"><li><p>将一个<code>redis.conf</code>拷贝至<code>/data/dockerShare/redis</code></p></li> <li><p>运行容器</p></li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run  <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">--name</span> myredis3 <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token parameter variable">-v</span> /data/dockerShare/redis/redis.conf:/etc/redis/redis.conf <span class="token parameter variable">-v</span> /data/dockerShare/redis/data:/data <span class="token parameter variable">-d</span> redis:6.0.8 redis-server /etc/redis/redis.conf
</code></pre></div><ol start="5"><li>测试</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker exec -it c61aa5288711 /bin/bash</span>
root@c61aa5288711:/data<span class="token comment"># redis-cli</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> k1 v1
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get k1
<span class="token string">&quot;v1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">15</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>
root@c61aa5288711:/data<span class="token comment"># exit </span>
<span class="token builtin class-name">exit</span>
</code></pre></div><ol start="6"><li>修改数据卷中<code>redis.conf</code>中的<code>databases</code>数量为10</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># cd /data/dockerShare/redis/</span>
<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># vi redis.conf </span>
<span class="token comment"># Set the number of databases. The default database is DB 0, you can select</span>

<span class="token comment"># a different one on a per-connection basis using SELECT &lt;dbid&gt; where</span>

<span class="token comment"># dbid is a number between 0 and 'databases'-1</span>

databases <span class="token number">10</span>
</code></pre></div><ol start="7"><li>重启redis容器测试，测试修改<code>databases</code>是否生效</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker ps -a|grep Up|grep redis</span>
c61aa5288711   redis:6.0.8             <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">6</span> minutes ago    Up <span class="token number">6</span> minutes                     <span class="token number">0.0</span>.0.0:6379-<span class="token operator">&gt;</span><span class="token number">6379</span>/tcp, :::6379-<span class="token operator">&gt;</span><span class="token number">6379</span>/tcp   myredis3
<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker restart c61aa5288711</span>

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker exec -it c61aa5288711 /bin/bash</span>
root@c61aa5288711:/data<span class="token comment"># redis-cli</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">10</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR DB index is out of range
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">9</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token number">15</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR DB index is out of range
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> 
</code></pre></div><h2 id="mysql集群安装"><a href="#mysql集群安装" class="header-anchor">#</a> mysql集群安装</h2> <h2 id="redis集群安装"><a href="#redis集群安装" class="header-anchor">#</a> redis集群安装</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/运维/Docker/Docker入门-数据卷.html" class="prev">
        数据卷
      </a></span> <span class="next"><a href="/运维/Docker/Docker进阶-Dockerfile.html">
        Dockerfile
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.87787286.js" defer></script><script src="/assets/js/2.7474dc9b.js" defer></script><script src="/assets/js/28.665889f0.js" defer></script>
  </body>
</html>
