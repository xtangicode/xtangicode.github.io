<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | Sugar</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Sugar">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.87787286.js" as="script"><link rel="preload" href="/assets/js/2.7474dc9b.js" as="script"><link rel="preload" href="/assets/js/8.de2f67b9.js" as="script"><link rel="prefetch" href="/assets/js/10.f2c09d91.js"><link rel="prefetch" href="/assets/js/100.31dbbd22.js"><link rel="prefetch" href="/assets/js/11.ab3c80b7.js"><link rel="prefetch" href="/assets/js/12.d63bbe50.js"><link rel="prefetch" href="/assets/js/13.32e6b473.js"><link rel="prefetch" href="/assets/js/14.f5f53505.js"><link rel="prefetch" href="/assets/js/15.7c1473bf.js"><link rel="prefetch" href="/assets/js/16.741dad00.js"><link rel="prefetch" href="/assets/js/17.d1723ba1.js"><link rel="prefetch" href="/assets/js/18.598fa16b.js"><link rel="prefetch" href="/assets/js/19.2872ff11.js"><link rel="prefetch" href="/assets/js/20.aaebf09b.js"><link rel="prefetch" href="/assets/js/21.6fe37cfb.js"><link rel="prefetch" href="/assets/js/22.e816f1dd.js"><link rel="prefetch" href="/assets/js/23.aa12e97d.js"><link rel="prefetch" href="/assets/js/24.39c48b23.js"><link rel="prefetch" href="/assets/js/25.d0a801eb.js"><link rel="prefetch" href="/assets/js/26.b8858599.js"><link rel="prefetch" href="/assets/js/27.efe7508c.js"><link rel="prefetch" href="/assets/js/28.665889f0.js"><link rel="prefetch" href="/assets/js/29.35ad5d33.js"><link rel="prefetch" href="/assets/js/3.afdd60e2.js"><link rel="prefetch" href="/assets/js/30.5e1a82f7.js"><link rel="prefetch" href="/assets/js/31.b432b24d.js"><link rel="prefetch" href="/assets/js/32.32bc3001.js"><link rel="prefetch" href="/assets/js/33.2d49e809.js"><link rel="prefetch" href="/assets/js/34.4b5f764a.js"><link rel="prefetch" href="/assets/js/35.ceb9d252.js"><link rel="prefetch" href="/assets/js/36.13ae58d4.js"><link rel="prefetch" href="/assets/js/37.a70a7b9c.js"><link rel="prefetch" href="/assets/js/38.0f560cc1.js"><link rel="prefetch" href="/assets/js/39.201caad1.js"><link rel="prefetch" href="/assets/js/4.c5ce5fb4.js"><link rel="prefetch" href="/assets/js/40.b9ab535d.js"><link rel="prefetch" href="/assets/js/41.88216b6f.js"><link rel="prefetch" href="/assets/js/42.0364b286.js"><link rel="prefetch" href="/assets/js/43.f4d17a1d.js"><link rel="prefetch" href="/assets/js/44.04bd056d.js"><link rel="prefetch" href="/assets/js/45.d18bd618.js"><link rel="prefetch" href="/assets/js/46.52048131.js"><link rel="prefetch" href="/assets/js/47.2619df9c.js"><link rel="prefetch" href="/assets/js/48.62293875.js"><link rel="prefetch" href="/assets/js/49.ee8db2f4.js"><link rel="prefetch" href="/assets/js/5.430e5ee0.js"><link rel="prefetch" href="/assets/js/50.46c0678a.js"><link rel="prefetch" href="/assets/js/51.45011951.js"><link rel="prefetch" href="/assets/js/52.bf81a524.js"><link rel="prefetch" href="/assets/js/53.f07d53be.js"><link rel="prefetch" href="/assets/js/54.fb65738f.js"><link rel="prefetch" href="/assets/js/55.3a3c7c03.js"><link rel="prefetch" href="/assets/js/56.9c4d1c26.js"><link rel="prefetch" href="/assets/js/57.e5a70254.js"><link rel="prefetch" href="/assets/js/58.5ef7a38e.js"><link rel="prefetch" href="/assets/js/59.ac55374e.js"><link rel="prefetch" href="/assets/js/6.8bd84f3d.js"><link rel="prefetch" href="/assets/js/60.a9f185d1.js"><link rel="prefetch" href="/assets/js/61.4691b1f0.js"><link rel="prefetch" href="/assets/js/62.19a13ebb.js"><link rel="prefetch" href="/assets/js/63.7ded963b.js"><link rel="prefetch" href="/assets/js/64.ef2ed6fc.js"><link rel="prefetch" href="/assets/js/65.b31da18d.js"><link rel="prefetch" href="/assets/js/66.2486639a.js"><link rel="prefetch" href="/assets/js/67.70fc71c6.js"><link rel="prefetch" href="/assets/js/68.fc5262a5.js"><link rel="prefetch" href="/assets/js/69.92c0bf80.js"><link rel="prefetch" href="/assets/js/7.bb64f78e.js"><link rel="prefetch" href="/assets/js/70.53830da0.js"><link rel="prefetch" href="/assets/js/71.98ac4b82.js"><link rel="prefetch" href="/assets/js/72.953b023e.js"><link rel="prefetch" href="/assets/js/73.7153dfd0.js"><link rel="prefetch" href="/assets/js/74.a69b16c5.js"><link rel="prefetch" href="/assets/js/75.90a10999.js"><link rel="prefetch" href="/assets/js/76.0fb3a421.js"><link rel="prefetch" href="/assets/js/77.d043222c.js"><link rel="prefetch" href="/assets/js/78.d404934c.js"><link rel="prefetch" href="/assets/js/79.fe5693cf.js"><link rel="prefetch" href="/assets/js/80.4a11c23e.js"><link rel="prefetch" href="/assets/js/81.be0355cb.js"><link rel="prefetch" href="/assets/js/82.08c9702a.js"><link rel="prefetch" href="/assets/js/83.c314c22c.js"><link rel="prefetch" href="/assets/js/84.e6f1bbcb.js"><link rel="prefetch" href="/assets/js/85.0e39afd3.js"><link rel="prefetch" href="/assets/js/86.c3d611e8.js"><link rel="prefetch" href="/assets/js/87.d5fbf7bd.js"><link rel="prefetch" href="/assets/js/88.f735d6fb.js"><link rel="prefetch" href="/assets/js/89.2e900324.js"><link rel="prefetch" href="/assets/js/9.d7379f7d.js"><link rel="prefetch" href="/assets/js/90.76c03561.js"><link rel="prefetch" href="/assets/js/91.aa36d6e6.js"><link rel="prefetch" href="/assets/js/92.3f1dacf4.js"><link rel="prefetch" href="/assets/js/93.baa00a98.js"><link rel="prefetch" href="/assets/js/94.dac730b5.js"><link rel="prefetch" href="/assets/js/95.abd38298.js"><link rel="prefetch" href="/assets/js/96.fae986f1.js"><link rel="prefetch" href="/assets/js/97.c4aaa517.js"><link rel="prefetch" href="/assets/js/98.7d85573e.js"><link rel="prefetch" href="/assets/js/99.5879968c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sugar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker入门-介绍.html" class="sidebar-link">介绍</a></li><li><a href="/运维/Docker/Docker入门-架构.html" class="sidebar-link">架构</a></li><li><a href="/运维/Docker/Docker入门-安装.html" class="sidebar-link">安装</a></li><li><a href="/运维/Docker/Docker入门-常用命令.html" class="sidebar-link">常用命令</a></li><li><a href="/运维/Docker/Docker入门-镜像.html" class="active sidebar-link">镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#分层的镜像" class="sidebar-link">分层的镜像</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#unionfs-联合文件系统" class="sidebar-link">UnionFS（联合文件系统）</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#docker镜像加载原理" class="sidebar-link">Docker镜像加载原理</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#镜像commit" class="sidebar-link">镜像commit</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#细说export、commit和save命令" class="sidebar-link">细说Export、Commit和Save命令</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#本地镜像发布到阿里云" class="sidebar-link">本地镜像发布到阿里云</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#生成镜像的方法" class="sidebar-link">生成镜像的方法</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#发布流程" class="sidebar-link">发布流程</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#发布步骤" class="sidebar-link">发布步骤</a></li></ul></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#本地镜像发布到私有库" class="sidebar-link">本地镜像发布到私有库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#私有库" class="sidebar-link">私有库</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#发布流程-2" class="sidebar-link">发布流程</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker入门-镜像.html#发布步骤-2" class="sidebar-link">发布步骤</a></li></ul></li></ul></li><li><a href="/运维/Docker/Docker入门-数据卷.html" class="sidebar-link">数据卷</a></li><li><a href="/运维/Docker/Docker入门-相关软件环境安装.html" class="sidebar-link">相关软件环境安装</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker进阶-Dockerfile.html" class="sidebar-link">Dockerfile</a></li><li><a href="/运维/Docker/Docker进阶-网络.html" class="sidebar-link">网络</a></li><li><a href="/运维/Docker/Docker进阶-Docker Compose容器编排.html" class="sidebar-link">Docker Compose容器编排</a></li><li><a href="/运维/Docker/Docker进阶-轻量级可视化工具Portainer.html" class="sidebar-link">轻量级可视化工具Portainer</a></li><li><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html" class="sidebar-link">容器监控CAdvisor+InfluxDB+Granfana</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <blockquote><p>是一种轻量级、可执行的独立软件包，它包含运行某个软件所需的所有内容，我们把应用程序和配置依赖打包好形成一个可交付的运行环境(包括代码、运行时需要的库、环境变量和配置文件等)，这个打包好的运行环境就是image镜像文件。
只有通过这个镜像文件才能生成Docker容器实例(类似Java中new出来一个对象)。</p></blockquote> <h2 id="分层的镜像"><a href="#分层的镜像" class="header-anchor">#</a> 分层的镜像</h2> <p>下载镜像时分片下载的</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker pull tomcat </span>
Using default tag: latest
latest: Pulling from library/tomcat
0e29546d541c: Pull complete 
9b829c73b52b: Pull complete 
cb5b7ae36172: Pull complete 
6494e4811622: Pull complete 
668f6fcc5fa5: Pull complete 
dc120c3e0290: Pull complete 
8f7c0eebb7b1: Pull complete 
77b694f83996: Pull complete 
0f611256ec3a: Pull complete 
4f25def12f23: Pull complete 
Digest: sha256:9dee185c3b161cdfede1f5e35e8b56ebc9de88ed3a79526939701f3537a52324
Status: Downloaded newer image <span class="token keyword">for</span> tomcat:latest
docker.io/library/tomcat:latest
</code></pre></div><h2 id="unionfs-联合文件系统"><a href="#unionfs-联合文件系统" class="header-anchor">#</a> UnionFS（联合文件系统）</h2> <p>UnionFS（联合文件系统）：Union文件系统（UnionFS）是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下(unite several directories into a single virtual filesystem)。Union 文件系统是 Docker 镜像的基础。镜像可以通过分层来进行继承，基于基础镜像（没有父镜像），可以制作各种具体的应用镜像。</p> <h2 id="docker镜像加载原理"><a href="#docker镜像加载原理" class="header-anchor">#</a> Docker镜像加载原理</h2> <p>docker的镜像实际上由一层一层的文件系统组成，这种层级的文件系统UnionFS。</p> <p><strong>bootfs</strong>(boot file system)主要包含bootloader和kernel, bootloader主要是引导加载kernel, Linux刚启动时会加载bootfs文件系统，在Docker镜像的最底层是引导文件系统bootfs。这一层与我们典型的Linux/Unix系统是一样的，包含boot加载器和内核。当boot加载完成之后整个内核就都在内存中了，此时内存的使用权已由bootfs转交给内核，此时系统也会卸载bootfs。</p> <p><strong>rootfs</strong>(root file system) ，在bootfs之上。包含的就是典型 Linux 系统中的 /dev, /proc, /bin, /etc 等标准目录和文件。rootfs就是各种不同的操作系统发行版，比如Ubuntu，Centos等等。</p> <p><img src="/assets/img/docker_jx01.a8b666f0.png" alt=""></p> <p>平时我们安装进虚拟机的CentOS都是好几个G，为什么docker这里才200M？？</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment"># docker images centos</span>
REPOSITORY   TAG       IMAGE ID       CREATED         SIZE
centos       latest    5d0da3dc9764   <span class="token number">21</span> months ago   231MB
</code></pre></div><p>对于一个精简的OS，rootfs可以很小，只需要包括最基本的命令、工具和程序库就可以了，因为底层直接用Host的kernel，自己只需要提供 rootfs 就行了。由此可见对于不同的linux发行版, bootfs基本是一致的, rootfs会有差别, 因此不同的发行版可以公用bootfs。</p> <p><strong>为什么docker镜像采用这种分层结构？</strong></p> <p>镜像分层最大的一个好处就是共享资源，方便复制迁移，就是为了复用。</p> <p>比如说有多个镜像都从相同的 base 镜像构建而来，那么 Docker Host 只需在磁盘上保存一份 base 镜像；</p> <p>同时内存中也只需加载一份 base 镜像，就可以为所有容器服务了。而且镜像的每一层都可以被共享。</p> <p><strong>容器层与镜像层</strong></p> <p>当容器启动时，一个新的可写层被加载到镜像的顶部。这一层通常被称作“容器层”，“容器层”之下的都叫“镜像层”。</p> <p>所有对容器的改动 - 无论添加、删除、还是修改文件都只会发生在容器层中。只有容器层是可写的，容器层下面的所有镜像层都是只读的</p> <p><img src="/assets/img/docker_jx02.334e1af4.png" alt=""></p> <h2 id="镜像commit"><a href="#镜像commit" class="header-anchor">#</a> 镜像commit</h2> <p>docker commit提交容器副本使之成为一个新的镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> commit <span class="token parameter variable">-m</span><span class="token operator">=</span><span class="token string">&quot;add vim cmd&quot;</span> <span class="token parameter variable">-a</span><span class="token operator">=</span><span class="token string">&quot;作者名称&quot;</span> 容器ID 要创建的目标镜像名称:<span class="token punctuation">[</span>版本号<span class="token punctuation">]</span>
</code></pre></div><p>Docker中的镜像分层，支持通过扩展现有镜像，创建新的镜像。类似Java继承于一个Base基础类，自己再按需扩展。</p> <p>新镜像是从 base 镜像一层一层叠加生成的。每安装一个软件，就在现有镜像的基础上增加一层</p> <p><img src="/assets/img/docker_jx03.b47e0278.png" alt=""></p> <h2 id="细说export、commit和save命令"><a href="#细说export、commit和save命令" class="header-anchor">#</a> 细说Export、Commit和Save命令</h2> <p><a href="https://zhuanlan.zhihu.com/p/152219012?utm_id=0" target="_blank" rel="noopener noreferrer">连接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="本地镜像发布到阿里云"><a href="#本地镜像发布到阿里云" class="header-anchor">#</a> 本地镜像发布到阿里云</h2> <h3 id="生成镜像的方法"><a href="#生成镜像的方法" class="header-anchor">#</a> 生成镜像的方法</h3> <p>方式一：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> commit <span class="token parameter variable">-m</span><span class="token operator">=</span><span class="token string">&quot;add vim cmd&quot;</span> <span class="token parameter variable">-a</span><span class="token operator">=</span><span class="token string">&quot;作者名称&quot;</span> 容器ID 要创建的目标镜像名称:<span class="token punctuation">[</span>版本号<span class="token punctuation">]</span>
</code></pre></div><p>方式二：
DockerFile</p> <h3 id="发布流程"><a href="#发布流程" class="header-anchor">#</a> 发布流程</h3> <p><img src="/assets/img/docker_jx04.3b7fa4ca.png" alt=""></p> <h3 id="发布步骤"><a href="#发布步骤" class="header-anchor">#</a> 发布步骤</h3> <p><strong>配置阿里云镜像</strong></p> <p>配置步骤请观察前面安装步骤</p> <p><strong>创建实例</strong></p> <ol><li><p>创建“个人实例”
<img src="/assets/img/docker_jx05.97615d24.png" alt=""></p></li> <li><p>创建命名空间，并且设置为公有
<img src="/assets/img/docker_jx06.d1ae25fc.png" alt=""></p></li></ol> <p><img src="/assets/img/docker_jx07.3c744681.png" alt=""></p> <ol start="3"><li><p>创建镜像仓库，并且设置为公有
<img src="/assets/img/docker_jx08.50850d26.png" alt=""></p></li> <li><p>查看推送脚本
<img src="/assets/img/docker_jx09.0cbd99d9.png" alt=""></p></li></ol> <p><img src="/assets/img/docker_jx10.4eeca2f7.png" alt=""></p> <ol start="5"><li>推送</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>
$ <span class="token function">docker</span> login <span class="token parameter variable">--username</span><span class="token operator">=</span>阿里云账号 registry.cn-hangzhou.aliyuncs.com
<span class="token comment"># 给某个镜像打标签，生成一个新的镜像，生成的镜像名称必须是这种格式：注册的namespace/注册的仓库名称</span>
$ <span class="token function">docker</span> tag <span class="token punctuation">[</span>ImageId<span class="token punctuation">]</span> registry.cn-hangzhou.aliyuncs.com/注册的namespace/注册的仓库名称:<span class="token punctuation">[</span>需要推送的镜像版本<span class="token punctuation">]</span>
<span class="token comment"># 将刚才新生成的镜像推送到阿里云</span>
$ <span class="token function">docker</span> push registry.cn-hangzhou.aliyuncs.com/注册的namespace/注册的仓库名称:<span class="token punctuation">[</span>需要推送的镜像版本<span class="token punctuation">]</span>
</code></pre></div><ol start="6"><li>测试推送的镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 拉取推送的镜像</span>
$ <span class="token function">docker</span> pull registry.cn-hangzhou.aliyuncs.com/注册的namespace/注册的仓库名称:1.1
<span class="token comment"># 继续进入centos看是否和push的一致</span>
<span class="token punctuation">..</span>.
</code></pre></div><h2 id="本地镜像发布到私有库"><a href="#本地镜像发布到私有库" class="header-anchor">#</a> 本地镜像发布到私有库</h2> <h3 id="私有库"><a href="#私有库" class="header-anchor">#</a> 私有库</h3> <p>公有库：<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">官方Docker Hub地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，国内访问太慢了且准备被阿里云、网易等取代的趋势，不太主流</p> <p>私有库：涉密的公司不会提供镜像给公网，所以需要创建本地私人仓库供团队使用，基于公司内部项目构建镜像。</p> <p>Docker Registry：官方提供的工具，用于构建私有镜像仓库。</p> <h3 id="发布流程-2"><a href="#发布流程-2" class="header-anchor">#</a> 发布流程</h3> <p><img src="/assets/img/docker_jx11.ca3ebbfd.png" alt=""></p> <h3 id="发布步骤-2"><a href="#发布步骤-2" class="header-anchor">#</a> 发布步骤</h3> <ol><li>下载镜像Docker Registry</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull registry
</code></pre></div><ol start="2"><li><p>运行Registry私有库，相当于本地有个私有Docker Hub</p></li> <li><p>默认情况，仓库被创建在容器的/var/lib/registry目录下，建议自行用容器卷映射，方便于宿主机联调</p></li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000  <span class="token parameter variable">-v</span> /data/myregistry/:/tmp/registry <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true registry
</code></pre></div><ol start="4"><li>将修改过的镜像打包</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># docker commit -m=&quot;add test txt&quot; -a=&quot;tx&quot; ea967d78dda3 with_test_centos:1.1</span>

<span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># docker images -a</span>
REPOSITORY                        TAG       IMAGE ID       CREATED         SIZE
with_test_centos                  <span class="token number">1.1</span>       19833c3e6827   <span class="token number">7</span> minutes ago   231MB
tomcat                            latest    fb5657adc892   <span class="token number">18</span> months ago   680MB
registry                          latest    b8604a3fe854   <span class="token number">19</span> months ago   <span class="token number">26</span>.2MB
centos                            latest    5d0da3dc9764   <span class="token number">21</span> months ago   231MB
redis                             <span class="token number">6.0</span>.8     16ecd2772934   <span class="token number">2</span> years ago     104MB

</code></pre></div><ol start="5"><li>查询私有库上的镜像</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># curl -X GET '127.0.0.1:5000/v2/_catalog'</span>
<span class="token punctuation">{</span><span class="token string">&quot;repositories&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre></div><ol start="6"><li>打TAG，将镜像with_test_centos:1.1修改为127.0.0.1:5000/with_test_centos:1.1</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># docker tag 19833c3e6827 127.0.0.1:5000/with_test_centos:1.1</span>
<span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># docker images -a</span>
REPOSITORY                        TAG       IMAGE ID       CREATED         SIZE
<span class="token number">127.0</span>.0.1:5000/with_test_centos   <span class="token number">1.1</span>       19833c3e6827   <span class="token number">7</span> minutes ago   231MB
with_test_centos                  <span class="token number">1.1</span>       19833c3e6827   <span class="token number">7</span> minutes ago   231MB
tomcat                            latest    fb5657adc892   <span class="token number">18</span> months ago   680MB
registry                          latest    b8604a3fe854   <span class="token number">19</span> months ago   <span class="token number">26</span>.2MB
centos                            latest    5d0da3dc9764   <span class="token number">21</span> months ago   231MB
redis                             <span class="token number">6.0</span>.8     16ecd2772934   <span class="token number">2</span> years ago     104MB

</code></pre></div><ol start="7"><li>修改<code>/etc/docker/daemon.json</code>，修改docker允许http推送镜像，docker默认不允许http方式推送镜像，通过配置选项来取消这个限制。</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;http://hub-mirror.c.163.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;insecure-registries&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1:5000&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="8"><li>重启服务</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>systemctl daemon-reload
systemctl restart <span class="token function">docker</span>
<span class="token comment"># 重新启动私有镜像</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000  <span class="token parameter variable">-v</span> /data/myregistry/:/tmp/registry <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true registry
</code></pre></div><ol start="9"><li>推送</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment"># docker push 127.0.0.1:5000/with_test_centos:1.1</span>
The push refers to repository <span class="token punctuation">[</span><span class="token number">127.0</span>.0.1:5000/with_test_centos<span class="token punctuation">]</span>
17da8dfe35c6: Pushed 
74ddd0ec08fa: Pushed 
<span class="token number">1.1</span>: digest: sha256:42d5d4b76ff3abaa02ffbe60259d644e7aec5f8b3c42ebff313f9b1a9ea1d03c size: <span class="token number">736</span>
</code></pre></div><ol start="10"><li>测试</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost myregistry<span class="token punctuation">]</span><span class="token comment">#  curl -X GET '127.0.0.1:5000/v2/_catalog'</span>
<span class="token punctuation">{</span><span class="token string">&quot;repositories&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;with_test_centos&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/运维/Docker/Docker入门-常用命令.html" class="prev">
        常用命令
      </a></span> <span class="next"><a href="/运维/Docker/Docker入门-数据卷.html">
        数据卷
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.87787286.js" defer></script><script src="/assets/js/2.7474dc9b.js" defer></script><script src="/assets/js/8.de2f67b9.js" defer></script>
  </body>
</html>
