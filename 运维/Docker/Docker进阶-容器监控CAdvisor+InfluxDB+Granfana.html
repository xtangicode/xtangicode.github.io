<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原生命令 | Sugar</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Sugar">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.87787286.js" as="script"><link rel="preload" href="/assets/js/2.7474dc9b.js" as="script"><link rel="preload" href="/assets/js/6.8bd84f3d.js" as="script"><link rel="prefetch" href="/assets/js/10.f2c09d91.js"><link rel="prefetch" href="/assets/js/100.31dbbd22.js"><link rel="prefetch" href="/assets/js/11.ab3c80b7.js"><link rel="prefetch" href="/assets/js/12.d63bbe50.js"><link rel="prefetch" href="/assets/js/13.32e6b473.js"><link rel="prefetch" href="/assets/js/14.f5f53505.js"><link rel="prefetch" href="/assets/js/15.7c1473bf.js"><link rel="prefetch" href="/assets/js/16.741dad00.js"><link rel="prefetch" href="/assets/js/17.d1723ba1.js"><link rel="prefetch" href="/assets/js/18.598fa16b.js"><link rel="prefetch" href="/assets/js/19.2872ff11.js"><link rel="prefetch" href="/assets/js/20.aaebf09b.js"><link rel="prefetch" href="/assets/js/21.6fe37cfb.js"><link rel="prefetch" href="/assets/js/22.e816f1dd.js"><link rel="prefetch" href="/assets/js/23.aa12e97d.js"><link rel="prefetch" href="/assets/js/24.39c48b23.js"><link rel="prefetch" href="/assets/js/25.d0a801eb.js"><link rel="prefetch" href="/assets/js/26.b8858599.js"><link rel="prefetch" href="/assets/js/27.efe7508c.js"><link rel="prefetch" href="/assets/js/28.665889f0.js"><link rel="prefetch" href="/assets/js/29.35ad5d33.js"><link rel="prefetch" href="/assets/js/3.afdd60e2.js"><link rel="prefetch" href="/assets/js/30.5e1a82f7.js"><link rel="prefetch" href="/assets/js/31.b432b24d.js"><link rel="prefetch" href="/assets/js/32.32bc3001.js"><link rel="prefetch" href="/assets/js/33.2d49e809.js"><link rel="prefetch" href="/assets/js/34.4b5f764a.js"><link rel="prefetch" href="/assets/js/35.ceb9d252.js"><link rel="prefetch" href="/assets/js/36.13ae58d4.js"><link rel="prefetch" href="/assets/js/37.a70a7b9c.js"><link rel="prefetch" href="/assets/js/38.0f560cc1.js"><link rel="prefetch" href="/assets/js/39.201caad1.js"><link rel="prefetch" href="/assets/js/4.c5ce5fb4.js"><link rel="prefetch" href="/assets/js/40.b9ab535d.js"><link rel="prefetch" href="/assets/js/41.88216b6f.js"><link rel="prefetch" href="/assets/js/42.0364b286.js"><link rel="prefetch" href="/assets/js/43.f4d17a1d.js"><link rel="prefetch" href="/assets/js/44.04bd056d.js"><link rel="prefetch" href="/assets/js/45.d18bd618.js"><link rel="prefetch" href="/assets/js/46.52048131.js"><link rel="prefetch" href="/assets/js/47.2619df9c.js"><link rel="prefetch" href="/assets/js/48.62293875.js"><link rel="prefetch" href="/assets/js/49.ee8db2f4.js"><link rel="prefetch" href="/assets/js/5.430e5ee0.js"><link rel="prefetch" href="/assets/js/50.46c0678a.js"><link rel="prefetch" href="/assets/js/51.45011951.js"><link rel="prefetch" href="/assets/js/52.bf81a524.js"><link rel="prefetch" href="/assets/js/53.f07d53be.js"><link rel="prefetch" href="/assets/js/54.fb65738f.js"><link rel="prefetch" href="/assets/js/55.3a3c7c03.js"><link rel="prefetch" href="/assets/js/56.9c4d1c26.js"><link rel="prefetch" href="/assets/js/57.e5a70254.js"><link rel="prefetch" href="/assets/js/58.5ef7a38e.js"><link rel="prefetch" href="/assets/js/59.ac55374e.js"><link rel="prefetch" href="/assets/js/60.a9f185d1.js"><link rel="prefetch" href="/assets/js/61.4691b1f0.js"><link rel="prefetch" href="/assets/js/62.19a13ebb.js"><link rel="prefetch" href="/assets/js/63.7ded963b.js"><link rel="prefetch" href="/assets/js/64.ef2ed6fc.js"><link rel="prefetch" href="/assets/js/65.b31da18d.js"><link rel="prefetch" href="/assets/js/66.2486639a.js"><link rel="prefetch" href="/assets/js/67.70fc71c6.js"><link rel="prefetch" href="/assets/js/68.fc5262a5.js"><link rel="prefetch" href="/assets/js/69.92c0bf80.js"><link rel="prefetch" href="/assets/js/7.bb64f78e.js"><link rel="prefetch" href="/assets/js/70.53830da0.js"><link rel="prefetch" href="/assets/js/71.98ac4b82.js"><link rel="prefetch" href="/assets/js/72.953b023e.js"><link rel="prefetch" href="/assets/js/73.7153dfd0.js"><link rel="prefetch" href="/assets/js/74.a69b16c5.js"><link rel="prefetch" href="/assets/js/75.90a10999.js"><link rel="prefetch" href="/assets/js/76.0fb3a421.js"><link rel="prefetch" href="/assets/js/77.d043222c.js"><link rel="prefetch" href="/assets/js/78.d404934c.js"><link rel="prefetch" href="/assets/js/79.fe5693cf.js"><link rel="prefetch" href="/assets/js/8.de2f67b9.js"><link rel="prefetch" href="/assets/js/80.4a11c23e.js"><link rel="prefetch" href="/assets/js/81.be0355cb.js"><link rel="prefetch" href="/assets/js/82.08c9702a.js"><link rel="prefetch" href="/assets/js/83.c314c22c.js"><link rel="prefetch" href="/assets/js/84.e6f1bbcb.js"><link rel="prefetch" href="/assets/js/85.0e39afd3.js"><link rel="prefetch" href="/assets/js/86.c3d611e8.js"><link rel="prefetch" href="/assets/js/87.d5fbf7bd.js"><link rel="prefetch" href="/assets/js/88.f735d6fb.js"><link rel="prefetch" href="/assets/js/89.2e900324.js"><link rel="prefetch" href="/assets/js/9.d7379f7d.js"><link rel="prefetch" href="/assets/js/90.76c03561.js"><link rel="prefetch" href="/assets/js/91.aa36d6e6.js"><link rel="prefetch" href="/assets/js/92.3f1dacf4.js"><link rel="prefetch" href="/assets/js/93.baa00a98.js"><link rel="prefetch" href="/assets/js/94.dac730b5.js"><link rel="prefetch" href="/assets/js/95.abd38298.js"><link rel="prefetch" href="/assets/js/96.fae986f1.js"><link rel="prefetch" href="/assets/js/97.c4aaa517.js"><link rel="prefetch" href="/assets/js/98.7d85573e.js"><link rel="prefetch" href="/assets/js/99.5879968c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sugar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/流媒体服务.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/JDK安装.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/运维/Docker/Docker入门-介绍.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E8%BF%90%E7%BB%B4/Docker/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker入门-介绍.html" class="sidebar-link">介绍</a></li><li><a href="/运维/Docker/Docker入门-架构.html" class="sidebar-link">架构</a></li><li><a href="/运维/Docker/Docker入门-安装.html" class="sidebar-link">安装</a></li><li><a href="/运维/Docker/Docker入门-常用命令.html" class="sidebar-link">常用命令</a></li><li><a href="/运维/Docker/Docker入门-镜像.html" class="sidebar-link">镜像</a></li><li><a href="/运维/Docker/Docker入门-数据卷.html" class="sidebar-link">数据卷</a></li><li><a href="/运维/Docker/Docker入门-相关软件环境安装.html" class="sidebar-link">相关软件环境安装</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/运维/Docker/Docker进阶-Dockerfile.html" class="sidebar-link">Dockerfile</a></li><li><a href="/运维/Docker/Docker进阶-网络.html" class="sidebar-link">网络</a></li><li><a href="/运维/Docker/Docker进阶-Docker Compose容器编排.html" class="sidebar-link">Docker Compose容器编排</a></li><li><a href="/运维/Docker/Docker进阶-轻量级可视化工具Portainer.html" class="sidebar-link">轻量级可视化工具Portainer</a></li><li><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html" class="active sidebar-link">容器监控CAdvisor+InfluxDB+Granfana</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html#原生命令" class="sidebar-link">原生命令</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html#cadvisor" class="sidebar-link">CAdvisor</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html#influxdb" class="sidebar-link">InfluxDB</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html#grafana" class="sidebar-link">Grafana</a></li><li class="sidebar-sub-header"><a href="/运维/Docker/Docker进阶-容器监控CAdvisor+InfluxDB+Granfana.html#compose容器编排启动监控" class="sidebar-link">compose容器编排启动监控</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="原生命令"><a href="#原生命令" class="header-anchor">#</a> 原生命令</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost javaDocker<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE                 COMMAND        CREATED          STATUS          PORTS                                                                                  NAMES
c245b7ccb271   portainer/portainer   <span class="token string">&quot;/portainer&quot;</span>   <span class="token number">11</span> minutes ago   Up <span class="token number">11</span> minutes   <span class="token number">0.0</span>.0.0:8000-<span class="token operator">&gt;</span><span class="token number">8000</span>/tcp, :::8000-<span class="token operator">&gt;</span><span class="token number">8000</span>/tcp, <span class="token number">0.0</span>.0.0:9000-<span class="token operator">&gt;</span><span class="token number">9000</span>/tcp, :::9000-<span class="token operator">&gt;</span><span class="token number">9000</span>/tcp   portainer
</code></pre></div><p>docker stats命令结果</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>问题：
通过docker stats命令可以很方便的看到当前宿主机上所有容器的CPU,内存以及网络流量等数据，一般小公司够用了。但是，docker stats统计结果只能是当前宿主机的全部容器，数据资料是实时的，没有地方存储、没有健康指标过线预警等功能。</p> <h2 id="cadvisor"><a href="#cadvisor" class="header-anchor">#</a> CAdvisor</h2> <p>CAdvisor是一个容器资源监控工具，包括容器的内存，CPU，网络IO，磁盘IO等监控，同时提供了一个WEB页面用于查看容器的实时运行状态。CAdvisor默认存储2分钟的数据，而且只是针对单物理机。不过，CAdvisor提供了很多数据集成接口支持InfluxDB，Redis，Kafka，Elasticsearch等集成，可以加上对应配置将监控数据发往这些数据库存储起来。</p> <p>CAdvisor功能主要有两点:</p> <ul><li><p>展示Host和容器两个层次的监控数据</p></li> <li><p>展示历史变化数据</p></li></ul> <p>总结：负责监控收集</p> <h2 id="influxdb"><a href="#influxdb" class="header-anchor">#</a> InfluxDB</h2> <p>InfluxDB是用Go语言编写的一个开源分布式时序、事件和指标数据库,无需外部依赖。</p> <p>CAdvisor默认只在本机保存最近2分钟的数据，为了持久化存储数据和统一收集展示监控数据，需要将数据存储到InfluxDB中。InfluxDB是一个时序数据库，专门用于存储时序相关数据，很适合存储CAdvisor的数据。而且，CAdvisor本身已经提供了InfluxDB的集成方法，丰启动容器时指定配置即可。</p> <p>InfluxDB主要功能</p> <ul><li><p>基于时间序列：支持与时间有关的相关函数(如最大、最小、求和等)</p></li> <li><p>可度量性：你可以实时对大量数据进行计算</p></li> <li><p>基于事件：它支持任意的事件数据</p></li></ul> <h2 id="grafana"><a href="#grafana" class="header-anchor">#</a> Grafana</h2> <p>Grafana是一个开源的数据监控分析可视化平台，支持多种数据源配置（支持的数据源包括InfluxDB，MySQL，Elasticsearch，OpenTSDB，Graphite等）和丰富的插件及模板功能，支持图表权限控制和报警。</p> <p>Grafan主要特性</p> <ul><li><p>灵活丰富的图形化选项</p></li> <li><p>可以混合多种风格</p></li> <li><p>支持白天和夜间模式</p></li> <li><p>多个数据源</p></li></ul> <h2 id="compose容器编排启动监控"><a href="#compose容器编排启动监控" class="header-anchor">#</a> compose容器编排启动监控</h2> <p><strong>1. 新建目录</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># mkdir -p /data/cgi</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cd /data/cgi/</span>
</code></pre></div><p><strong>2. 创建docker-compose.yml</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost cgi<span class="token punctuation">]</span><span class="token comment"># vi docker-compose.yml</span>

version: <span class="token string">'3.1'</span>
volumes:
  grafana_data: <span class="token punctuation">{</span><span class="token punctuation">}</span>
services:
 influxdb:
  image: tutum/influxdb:0.9
  restart: always
  environment:
    - <span class="token assign-left variable">PRE_CREATE_DB</span><span class="token operator">=</span>cadvisor
  ports:
    - <span class="token string">&quot;8083:8083&quot;</span>
    - <span class="token string">&quot;8086:8086&quot;</span>
  volumes:
    - ./data/influxdb:/data
 cadvisor:
  image: google/cadvisor
  links:
    - influxdb:influxsrv
  command: <span class="token parameter variable">-storage_driver</span><span class="token operator">=</span>influxdb <span class="token parameter variable">-storage_driver_db</span><span class="token operator">=</span>cadvisor <span class="token parameter variable">-storage_driver_host</span><span class="token operator">=</span>influxsrv:8086
  restart: always
  ports:
    - <span class="token string">&quot;8080:8080&quot;</span>
  volumes:
    - /:/rootfs:ro
    - /var/run:/var/run:rw
    - /sys:/sys:ro
    - /var/lib/docker/:/var/lib/docker:ro
 grafana:
  user: <span class="token string">&quot;104&quot;</span>
  image: grafana/grafana
  user: <span class="token string">&quot;104&quot;</span>
  restart: always
  links:
    - influxdb:influxsrv
  ports:
    - <span class="token string">&quot;3000:3000&quot;</span>
  volumes:
    - grafana_data:/var/lib/grafana
  environment:
    - <span class="token assign-left variable">HTTP_USER</span><span class="token operator">=</span>admin
    - <span class="token assign-left variable">HTTP_PASS</span><span class="token operator">=</span>admin
    - <span class="token assign-left variable">INFLUXDB_HOST</span><span class="token operator">=</span>influxsrv
    - <span class="token assign-left variable">INFLUXDB_PORT</span><span class="token operator">=</span><span class="token number">8086</span>
    - <span class="token assign-left variable">INFLUXDB_NAME</span><span class="token operator">=</span>cadvisor
    - <span class="token assign-left variable">INFLUXDB_USER</span><span class="token operator">=</span>root
    - <span class="token assign-left variable">INFLUXDB_PASS</span><span class="token operator">=</span>root
</code></pre></div><p><strong>3. 启动docker-compose.yml文件</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost cgi<span class="token punctuation">]</span><span class="token comment"># docker-compose up</span>
</code></pre></div><p><strong>4. 查看三个容器是否全部启动成功</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a |grep Up</span>
7eefd5496774   google/cadvisor         <span class="token string">&quot;/usr/bin/cadvisor -…&quot;</span>   <span class="token number">8</span> seconds ago    Up <span class="token number">8</span> seconds                  <span class="token number">0.0</span>.0.0:8080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::8080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp                                              cgi_cadvisor_1
b88e53c37fc9   grafana/grafana         <span class="token string">&quot;/run.sh&quot;</span>                 <span class="token number">8</span> seconds ago    Up <span class="token number">8</span> seconds                  <span class="token number">0.0</span>.0.0:3000-<span class="token operator">&gt;</span><span class="token number">3000</span>/tcp, :::3000-<span class="token operator">&gt;</span><span class="token number">3000</span>/tcp                                              cgi_grafana_1
e1f556a8716d   tutum/influxdb:0.9      <span class="token string">&quot;/run.sh&quot;</span>                 <span class="token number">9</span> seconds ago    Up <span class="token number">8</span> seconds                  <span class="token number">0.0</span>.0.0:8083-<span class="token operator">&gt;</span><span class="token number">8083</span>/tcp, :::8083-<span class="token operator">&gt;</span><span class="token number">8083</span>/tcp, <span class="token number">0.0</span>.0.0:8086-<span class="token operator">&gt;</span><span class="token number">8086</span>/tcp, :::8086-<span class="token operator">&gt;</span><span class="token number">8086</span>/tcp   cgi_influxdb_1
</code></pre></div><p><strong>5. 访问CAdvisor</strong></p> <p>地址：http://192.168.133.129:8080/</p> <p><img src="/assets/img/docker_jk02.f1d1f530.png" alt=""></p> <p><img src="/assets/img/docker_jk03.f416fe28.png" alt=""></p> <p>启动成功，正在数据采集</p> <p><strong>6. 访问InfluxDB</strong></p> <p>地址：http://192.168.133.129:8083/</p> <p><img src="/assets/img/docker_jk04.2c76e78b.png" alt=""></p> <p><strong>6. 访问Granfana</strong></p> <p>6.1 地址：http://192.168.133.129:3000/</p> <p><img src="/assets/img/docker_jk05.215b989c.png" alt=""></p> <p>默认账户/密码：admin/admin</p> <p>6.2 添加数据源为InfluxDB</p> <p><img src="/assets/img/docker_jk06.bce307f1.png" alt=""></p> <p><img src="/assets/img/docker_jk07.e8c7ef9b.png" alt=""></p> <p>6.3 配置Influx地址</p> <p><img src="/assets/img/docker_jk08.530eed6d.png" alt=""></p> <p><code>password</code>是<code>cgi/docker-compose.yml</code>中的<code>INFLUXDB_PASS</code></p> <p><img src="/assets/img/docker_jk09.65d4f1c8.png" alt=""></p> <p>6.4 配置面板</p> <p>6.4.1 创建空面板</p> <p><img src="/assets/img/docker_jk10.2109c577.png" alt=""></p> <p><img src="/assets/img/docker_jk11.468113c7.png" alt=""></p> <p><img src="/assets/img/docker_jk12.7039776d.png" alt=""></p> <p><img src="/assets/img/docker_jk13.5e74abd1.png" alt=""></p> <p><img src="/assets/img/docker_jk14.a542e8bd.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/运维/Docker/Docker进阶-轻量级可视化工具Portainer.html" class="prev">
        轻量级可视化工具Portainer
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.87787286.js" defer></script><script src="/assets/js/2.7474dc9b.js" defer></script><script src="/assets/js/6.8bd84f3d.js" defer></script>
  </body>
</html>
