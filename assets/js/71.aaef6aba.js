(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{485:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"准备环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备环境"}},[s._v("#")]),s._v(" 准备环境")]),s._v(" "),a("p",[s._v("官网下载redis-5.0.8.tar.gz")]),s._v(" "),a("h2",{attrs:{id:"解压安装-配置端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解压安装-配置端口"}},[s._v("#")]),s._v(" 解压安装，配置端口")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("将redis-5.0.8.tar.gz 放到/data下")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("tar -zxvf redis-5.0.8.tar.gz")]),s._v("  解压到当前文件夹，")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("cd redis-5.0.8/")])])]),s._v(" "),a("li",[a("p",[s._v("没有安装gcc需要先安装gcc")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install gcc\nmake PREFIX=/data/redis-5.0.8 install \n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("修改redis.conf，先备份"),a("code",[s._v("cp redis.conf redis.conf.back")])])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许任意ip访问")]),s._v("\ndaemonize "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#守护进程，可以再后台运行redis")]),s._v("\nrequirepass "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11122")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redis连接密码。")]),s._v("\nport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16379")]),s._v("\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[a("p",[a("code",[s._v("bin/redis-server ./redis.conf")]),s._v(" 启动")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("bin/redis-cli -p 16379")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("auth 11122")]),s._v(" 密码认证")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("keys *")])])])]),s._v(" "),a("h2",{attrs:{id:"配置成服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置成服务"}},[s._v("#")]),s._v(" 配置成服务")]),s._v(" "),a("p",[s._v("配置自启动\n"),a("code",[s._v("vi /etc/init.d/redis16379d")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#chkconfig:345 61 61")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#description:redis16379d")]),s._v("\n/data/redis-5.0.8/bin/redis-server /data/redis-5.0.8/redis.conf\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--add")]),s._v(" redis16379d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" redis16379d  赋予权限\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" redis16379d start  测试\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);