(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{437:function(s,t){s.exports="data:image/png;base64,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"},438:function(s,t,a){s.exports=a.p+"assets/img/docker_jk02.f1d1f530.png"},439:function(s,t,a){s.exports=a.p+"assets/img/docker_jk03.f416fe28.png"},440:function(s,t,a){s.exports=a.p+"assets/img/docker_jk04.2c76e78b.png"},441:function(s,t,a){s.exports=a.p+"assets/img/docker_jk05.215b989c.png"},442:function(s,t,a){s.exports=a.p+"assets/img/docker_jk06.bce307f1.png"},443:function(s,t,a){s.exports=a.p+"assets/img/docker_jk07.e8c7ef9b.png"},444:function(s,t,a){s.exports=a.p+"assets/img/docker_jk08.530eed6d.png"},445:function(s,t,a){s.exports=a.p+"assets/img/docker_jk09.65d4f1c8.png"},446:function(s,t,a){s.exports=a.p+"assets/img/docker_jk10.2109c577.png"},447:function(s,t,a){s.exports=a.p+"assets/img/docker_jk11.468113c7.png"},448:function(s,t,a){s.exports=a.p+"assets/img/docker_jk12.7039776d.png"},449:function(s,t,a){s.exports=a.p+"assets/img/docker_jk13.5e74abd1.png"},450:function(s,t,a){s.exports=a.p+"assets/img/docker_jk14.a542e8bd.png"},562:function(s,t,a){"use strict";a.r(t);var r=a(14),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"原生命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原生命令"}},[s._v("#")]),s._v(" 原生命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost javaDocker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID   IMAGE                 COMMAND        CREATED          STATUS          PORTS                                                                                  NAMES\nc245b7ccb271   portainer/portainer   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/portainer"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" minutes ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" minutes   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("/tcp, :::8000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:9000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("/tcp, :::9000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("/tcp   portainer\n")])])]),t("p",[s._v("docker stats命令结果")]),s._v(" "),t("p",[t("img",{attrs:{src:a(437),alt:""}})]),s._v(" "),t("p",[s._v("问题：\n通过docker stats命令可以很方便的看到当前宿主机上所有容器的CPU,内存以及网络流量等数据，一般小公司够用了。但是，docker stats统计结果只能是当前宿主机的全部容器，数据资料是实时的，没有地方存储、没有健康指标过线预警等功能。")]),s._v(" "),t("h2",{attrs:{id:"cadvisor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cadvisor"}},[s._v("#")]),s._v(" CAdvisor")]),s._v(" "),t("p",[s._v("CAdvisor是一个容器资源监控工具，包括容器的内存，CPU，网络IO，磁盘IO等监控，同时提供了一个WEB页面用于查看容器的实时运行状态。CAdvisor默认存储2分钟的数据，而且只是针对单物理机。不过，CAdvisor提供了很多数据集成接口支持InfluxDB，Redis，Kafka，Elasticsearch等集成，可以加上对应配置将监控数据发往这些数据库存储起来。")]),s._v(" "),t("p",[s._v("CAdvisor功能主要有两点:")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("展示Host和容器两个层次的监控数据")])]),s._v(" "),t("li",[t("p",[s._v("展示历史变化数据")])])]),s._v(" "),t("p",[s._v("总结：负责监控收集")]),s._v(" "),t("h2",{attrs:{id:"influxdb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#influxdb"}},[s._v("#")]),s._v(" InfluxDB")]),s._v(" "),t("p",[s._v("InfluxDB是用Go语言编写的一个开源分布式时序、事件和指标数据库,无需外部依赖。")]),s._v(" "),t("p",[s._v("CAdvisor默认只在本机保存最近2分钟的数据，为了持久化存储数据和统一收集展示监控数据，需要将数据存储到InfluxDB中。InfluxDB是一个时序数据库，专门用于存储时序相关数据，很适合存储CAdvisor的数据。而且，CAdvisor本身已经提供了InfluxDB的集成方法，丰启动容器时指定配置即可。")]),s._v(" "),t("p",[s._v("InfluxDB主要功能")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("基于时间序列：支持与时间有关的相关函数(如最大、最小、求和等)")])]),s._v(" "),t("li",[t("p",[s._v("可度量性：你可以实时对大量数据进行计算")])]),s._v(" "),t("li",[t("p",[s._v("基于事件：它支持任意的事件数据")])])]),s._v(" "),t("h2",{attrs:{id:"grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grafana"}},[s._v("#")]),s._v(" Grafana")]),s._v(" "),t("p",[s._v("Grafana是一个开源的数据监控分析可视化平台，支持多种数据源配置（支持的数据源包括InfluxDB，MySQL，Elasticsearch，OpenTSDB，Graphite等）和丰富的插件及模板功能，支持图表权限控制和报警。")]),s._v(" "),t("p",[s._v("Grafan主要特性")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("灵活丰富的图形化选项")])]),s._v(" "),t("li",[t("p",[s._v("可以混合多种风格")])]),s._v(" "),t("li",[t("p",[s._v("支持白天和夜间模式")])]),s._v(" "),t("li",[t("p",[s._v("多个数据源")])])]),s._v(" "),t("h2",{attrs:{id:"compose容器编排启动监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compose容器编排启动监控"}},[s._v("#")]),s._v(" compose容器编排启动监控")]),s._v(" "),t("p",[t("strong",[s._v("1. 新建目录")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /data/cgi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /data/cgi/")]),s._v("\n")])])]),t("p",[t("strong",[s._v("2. 创建docker-compose.yml")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost cgi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi docker-compose.yml")]),s._v("\n\nversion: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.1'")]),s._v("\nvolumes:\n  grafana_data: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nservices:\n influxdb:\n  image: tutum/influxdb:0.9\n  restart: always\n  environment:\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PRE_CREATE_DB")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cadvisor\n  ports:\n    - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8083:8083"')]),s._v("\n    - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8086:8086"')]),s._v("\n  volumes:\n    - ./data/influxdb:/data\n cadvisor:\n  image: google/cadvisor\n  links:\n    - influxdb:influxsrv\n  command: "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-storage_driver")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("influxdb "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-storage_driver_db")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cadvisor "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-storage_driver_host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("influxsrv:8086\n  restart: always\n  ports:\n    - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8080:8080"')]),s._v("\n  volumes:\n    - /:/rootfs:ro\n    - /var/run:/var/run:rw\n    - /sys:/sys:ro\n    - /var/lib/docker/:/var/lib/docker:ro\n grafana:\n  user: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"104"')]),s._v("\n  image: grafana/grafana\n  user: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"104"')]),s._v("\n  restart: always\n  links:\n    - influxdb:influxsrv\n  ports:\n    - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3000:3000"')]),s._v("\n  volumes:\n    - grafana_data:/var/lib/grafana\n  environment:\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PASS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INFLUXDB_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("influxsrv\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INFLUXDB_PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v("\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INFLUXDB_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cadvisor\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INFLUXDB_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n    - "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INFLUXDB_PASS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n")])])]),t("p",[t("strong",[s._v("3. 启动docker-compose.yml文件")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost cgi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-compose up")]),s._v("\n")])])]),t("p",[t("strong",[s._v("4. 查看三个容器是否全部启动成功")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a |grep Up")]),s._v("\n7eefd5496774   google/cadvisor         "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/bin/cadvisor -…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds ago    Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8080-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/tcp, :::8080-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/tcp                                              cgi_cadvisor_1\nb88e53c37fc9   grafana/grafana         "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/run.sh"')]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds ago    Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:3000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("/tcp, :::3000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("/tcp                                              cgi_grafana_1\ne1f556a8716d   tutum/influxdb:0.9      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/run.sh"')]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" seconds ago    Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8083-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8083")]),s._v("/tcp, :::8083-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8083")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8086-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v("/tcp, :::8086-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v("/tcp   cgi_influxdb_1\n")])])]),t("p",[t("strong",[s._v("5. 访问CAdvisor")])]),s._v(" "),t("p",[s._v("地址：http://192.168.133.129:8080/")]),s._v(" "),t("p",[t("img",{attrs:{src:a(438),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(439),alt:""}})]),s._v(" "),t("p",[s._v("启动成功，正在数据采集")]),s._v(" "),t("p",[t("strong",[s._v("6. 访问InfluxDB")])]),s._v(" "),t("p",[s._v("地址：http://192.168.133.129:8083/")]),s._v(" "),t("p",[t("img",{attrs:{src:a(440),alt:""}})]),s._v(" "),t("p",[t("strong",[s._v("6. 访问Granfana")])]),s._v(" "),t("p",[s._v("6.1 地址：http://192.168.133.129:3000/")]),s._v(" "),t("p",[t("img",{attrs:{src:a(441),alt:""}})]),s._v(" "),t("p",[s._v("默认账户/密码：admin/admin")]),s._v(" "),t("p",[s._v("6.2 添加数据源为InfluxDB")]),s._v(" "),t("p",[t("img",{attrs:{src:a(442),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(443),alt:""}})]),s._v(" "),t("p",[s._v("6.3 配置Influx地址")]),s._v(" "),t("p",[t("img",{attrs:{src:a(444),alt:""}})]),s._v(" "),t("p",[t("code",[s._v("password")]),s._v("是"),t("code",[s._v("cgi/docker-compose.yml")]),s._v("中的"),t("code",[s._v("INFLUXDB_PASS")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(445),alt:""}})]),s._v(" "),t("p",[s._v("6.4 配置面板")]),s._v(" "),t("p",[s._v("6.4.1 创建空面板")]),s._v(" "),t("p",[t("img",{attrs:{src:a(446),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(447),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(448),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(449),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(450),alt:""}})])])}),[],!1,null,null,null);t.default=n.exports}}]);