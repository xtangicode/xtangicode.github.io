<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>流程定义 | Sugar</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="Sugar">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.d7322905.js" as="script"><link rel="preload" href="/assets/js/2.c3162e30.js" as="script"><link rel="preload" href="/assets/js/5.23e5bbd6.js" as="script"><link rel="prefetch" href="/assets/js/10.67b9b5e3.js"><link rel="prefetch" href="/assets/js/11.eccbc9e5.js"><link rel="prefetch" href="/assets/js/12.90a999aa.js"><link rel="prefetch" href="/assets/js/13.f1d985c2.js"><link rel="prefetch" href="/assets/js/14.1d691475.js"><link rel="prefetch" href="/assets/js/15.8b0c9770.js"><link rel="prefetch" href="/assets/js/16.7161a0ac.js"><link rel="prefetch" href="/assets/js/17.583e5220.js"><link rel="prefetch" href="/assets/js/18.d622bcdc.js"><link rel="prefetch" href="/assets/js/19.b94f8bed.js"><link rel="prefetch" href="/assets/js/20.f2ea7a33.js"><link rel="prefetch" href="/assets/js/21.353c4514.js"><link rel="prefetch" href="/assets/js/22.5f92fa4d.js"><link rel="prefetch" href="/assets/js/23.5cf5bfeb.js"><link rel="prefetch" href="/assets/js/24.095db818.js"><link rel="prefetch" href="/assets/js/25.18fc79d4.js"><link rel="prefetch" href="/assets/js/26.9e45ce2e.js"><link rel="prefetch" href="/assets/js/27.53a9d58a.js"><link rel="prefetch" href="/assets/js/28.73269734.js"><link rel="prefetch" href="/assets/js/29.6374b509.js"><link rel="prefetch" href="/assets/js/3.b6c170f4.js"><link rel="prefetch" href="/assets/js/30.a553d4c7.js"><link rel="prefetch" href="/assets/js/31.dea786d9.js"><link rel="prefetch" href="/assets/js/32.6321160c.js"><link rel="prefetch" href="/assets/js/33.d45e62b4.js"><link rel="prefetch" href="/assets/js/34.2eb6f7f1.js"><link rel="prefetch" href="/assets/js/35.4107ba8c.js"><link rel="prefetch" href="/assets/js/36.8cba08f9.js"><link rel="prefetch" href="/assets/js/37.20e0212a.js"><link rel="prefetch" href="/assets/js/38.2d98b255.js"><link rel="prefetch" href="/assets/js/39.9eae5530.js"><link rel="prefetch" href="/assets/js/4.ff62c16d.js"><link rel="prefetch" href="/assets/js/40.b7df088d.js"><link rel="prefetch" href="/assets/js/41.06893ddd.js"><link rel="prefetch" href="/assets/js/42.42cf2c09.js"><link rel="prefetch" href="/assets/js/43.dbfcf8ef.js"><link rel="prefetch" href="/assets/js/44.8db8b5b1.js"><link rel="prefetch" href="/assets/js/45.a0fbf795.js"><link rel="prefetch" href="/assets/js/46.d2f40e6b.js"><link rel="prefetch" href="/assets/js/47.e2c2787f.js"><link rel="prefetch" href="/assets/js/48.f8c4a82f.js"><link rel="prefetch" href="/assets/js/49.d3174ab0.js"><link rel="prefetch" href="/assets/js/50.98304404.js"><link rel="prefetch" href="/assets/js/51.1bfaeeb7.js"><link rel="prefetch" href="/assets/js/52.cf9c08e6.js"><link rel="prefetch" href="/assets/js/53.98f68fc2.js"><link rel="prefetch" href="/assets/js/54.08e32a5c.js"><link rel="prefetch" href="/assets/js/55.a3dcf50c.js"><link rel="prefetch" href="/assets/js/56.494912c8.js"><link rel="prefetch" href="/assets/js/57.75cea876.js"><link rel="prefetch" href="/assets/js/58.ed47c823.js"><link rel="prefetch" href="/assets/js/59.ca37a8f1.js"><link rel="prefetch" href="/assets/js/6.c13b59a2.js"><link rel="prefetch" href="/assets/js/60.a3bef4eb.js"><link rel="prefetch" href="/assets/js/61.d2486073.js"><link rel="prefetch" href="/assets/js/62.9372d44e.js"><link rel="prefetch" href="/assets/js/63.2cb33315.js"><link rel="prefetch" href="/assets/js/64.6b3e676e.js"><link rel="prefetch" href="/assets/js/65.81d0efc9.js"><link rel="prefetch" href="/assets/js/66.36c5fce3.js"><link rel="prefetch" href="/assets/js/67.8fd7d703.js"><link rel="prefetch" href="/assets/js/68.23743e63.js"><link rel="prefetch" href="/assets/js/69.77175893.js"><link rel="prefetch" href="/assets/js/7.9358edd5.js"><link rel="prefetch" href="/assets/js/70.beda563a.js"><link rel="prefetch" href="/assets/js/71.cb3bc33b.js"><link rel="prefetch" href="/assets/js/72.079ccfec.js"><link rel="prefetch" href="/assets/js/73.c6f4e9e2.js"><link rel="prefetch" href="/assets/js/8.99327eb9.js"><link rel="prefetch" href="/assets/js/9.dac5d9ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sugar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/数据库/MySQL/MySQL目录结构.html" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/数据库/ElasticSearch/ES知识体系.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  MangoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          后端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/框架/Spring/SpEL&amp;EL表达式.html" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-subitem"><a href="/框架/Activiti/Activiti介绍.html" class="nav-link">
  Activiti
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/中间件/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/中间件/Tomcat/" class="nav-link">
  Tomcat
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Netty
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Nacos
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  OSS
</a></li></ul></li><li class="dropdown-item"><h4>
          消息队列
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-subitem"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Kafka
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维" class="mobile-dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/运维/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  K8S
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  CI/CD
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  监控
</a></li><li class="dropdown-item"><!----> <a href="/%E6%A1%86%E6%9E%B6/Activiti/.html" class="nav-link">
  日志收集
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Activiti</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/框架/Activiti/Activiti介绍.html" class="sidebar-link">Activiti介绍</a></li><li><a href="/框架/Activiti/Activiti环境.html" class="sidebar-link">Activiti环境</a></li><li><a href="/框架/Activiti/Activiti类关系图.html" class="sidebar-link">Activiti类关系图</a></li><li><a href="/框架/Activiti/Activiti入门.html" class="sidebar-link">Activiti入门</a></li><li><a href="/框架/Activiti/Activiti流程操作.html" class="active sidebar-link">Activiti流程操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程定义" class="sidebar-link">流程定义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#bpmn文件" class="sidebar-link">.bpmn文件</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#生成-png图片文件" class="sidebar-link">生成.png图片文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程定义部署" class="sidebar-link">流程定义部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#概述-2" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#单个文件部署方式" class="sidebar-link">单个文件部署方式</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#压缩包部署方式" class="sidebar-link">压缩包部署方式</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#操作数据表" class="sidebar-link">操作数据表</a></li></ul></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#启动流程实例" class="sidebar-link">启动流程实例</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#任务查询" class="sidebar-link">任务查询</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程任务处理" class="sidebar-link">流程任务处理</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程定义信息查询" class="sidebar-link">流程定义信息查询</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程删除" class="sidebar-link">流程删除</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程资源下载" class="sidebar-link">流程资源下载</a></li><li class="sidebar-sub-header"><a href="/框架/Activiti/Activiti流程操作.html#流程历史信息的查看" class="sidebar-link">流程历史信息的查看</a></li></ul></li><li><a href="/框架/Activiti/Activiti流程实例.html" class="sidebar-link">Activiti流程实例</a></li><li><a href="/框架/Activiti/Activiti个人任务.html" class="sidebar-link">Activiti个人任务</a></li><li><a href="/框架/Activiti/Activiti流程变量.html" class="sidebar-link">Activiti流程变量</a></li><li><a href="/框架/Activiti/Activiti组任务.html" class="sidebar-link">Activiti组任务</a></li><li><a href="/框架/Activiti/Activiti网关.html" class="sidebar-link">Activiti网关</a></li><li><a href="/框架/Activiti/Activiti与Spring整合开发.html" class="sidebar-link">Activiti与Spring整合开发</a></li><li><a href="/框架/Activiti/Activiti7与Spring整合开发.html" class="sidebar-link">Activiti7与Spring整合开发</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="流程定义"><a href="#流程定义" class="header-anchor">#</a> 流程定义</h2> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>流程定义是线下按照bpmn2.0标准去描述 业务流程，通常使用idea中的插件对业务流程进行建模。</p> <p>使用idea下的designer设计器绘制流程，并会生成两个文件：.bpmn和.png</p> <h3 id="bpmn文件"><a href="#bpmn文件" class="header-anchor">#</a> .bpmn文件</h3> <p>使用activiti-desinger设计业务流程，会生成.bpmn文件，上面我们已经创建好了bpmn文件</p> <p>BPMN 2.0根节点是definitions节点。 这个元素中，可以定义多个流程定义（不过我们建议每个文件只包含一个流程定义， 可以简化开发过程中的维护难度）。 注意，definitions元素 最少也要包含xmlns 和 targetNamespace的声明。 targetNamespace可以是任意值，它用来对流程实例进行分类。</p> <p>流程定义部分：定义了流程每个结点的描述及结点之间的流程流转。</p> <p>流程布局定义：定义流程每个结点在流程图上的位置坐标等信息。</p> <h3 id="生成-png图片文件"><a href="#生成-png图片文件" class="header-anchor">#</a> 生成.png图片文件</h3> <p>IDEA工具中的操作方式</p> <p><strong>1. 修改文件后缀为xml</strong></p> <p>首先将evection.bpmn文件改名为evection.xml，如下图：</p> <p><img src="/assets/img/1575108966935.483a78e5.png" alt="1575108966935"></p> <p>evection.xml修改前的bpmn文件，效果如下：</p> <p><img src="/assets/img/1575107648105.ecee2ff3.png" alt="1575107648105"></p> <p><strong>2.使用designer设计器打开.xml文件</strong></p> <p>在evection.xml文件上面，点右键并选择Diagrams菜单，再选择Show BPMN2.0 Designer…</p> <p><img src="/assets/img/1575109268443.de9bc198.png" alt="1575109268443"></p> <p><strong>3.查看打开的文件</strong></p> <p>打开后，却出现乱码，如图：</p> <p><img src="/assets/img/1575109366989.d6dede1a.png" alt="1575109366989"></p> <p><strong>4.解决中文乱码</strong></p> <p>1、打开Settings，找到File Encodings，把encoding的选项都选择UTF-8</p> <p><img src="/assets/img/1575112075626.ef8f420f.png" alt="1575112075626"></p> <p>2、打开IDEA安装路径，找到如下的安装目录</p> <p><img src="/assets/img/1575109627745.693fc5bc.png" alt="1575109627745"></p> <p>根据自己所安装的版本来决定，我使用的是64位的idea，所以在idea64.exe.vmoptions文件的最后一行追加一条命令： -Dfile.encoding=UTF-8</p> <p>如下所示：</p> <p><img src="/assets/img/clip_image002.9f11e655.png" alt="https://images2017.cnblogs.com/blog/963440/201712/963440-20171221132445475-1259807908.png"></p> <p>一定注意，不要有空格，否则重启IDEA时会打不开，然后 重启IDEA。</p> <p>如果以上方法已经做完，还出现乱码，就再修改一个文件，并在文件的末尾添加： -Dfile.encoding=UTF-8，然后重启idea，如图：</p> <p><img src="/assets/img/1575113551947.17e8e492.png" alt="1575113551947"></p> <p>最后重新在evection.xml文件上面，点右键并选择Diagrams菜单，再选择Show BPMN2.0 Designer…，看到生成图片，如图：</p> <p><img src="/assets/img/1575113951966.9b6b6e02.png" alt="1575113951966"></p> <p>到此，解决乱码问题</p> <p><strong>5.导出为图片文件</strong></p> <p>点击Export To File的小图标，打开如下窗口，注意填写文件名及扩展名，选择好保存图片的位置：</p> <p><img src="/assets/img/1575114245068.ffe1c585.png" alt="1575114245068"></p> <p>然后，我们把png文件拷贝到resources下的bpmn目录，并且把evection.xml改名为evection.bpmn。</p> <h2 id="流程定义部署"><a href="#流程定义部署" class="header-anchor">#</a> 流程定义部署</h2> <h3 id="概述-2"><a href="#概述-2" class="header-anchor">#</a> 概述</h3> <p>将上面在设计器中定义的流程部署到activiti数据库中，就是流程定义部署。</p> <p>通过调用activiti的api将流程定义的bpmn和png两个文件一个一个添加部署到activiti中，也可以将两个文件打成zip包进行部署。</p> <h3 id="单个文件部署方式"><a href="#单个文件部署方式" class="header-anchor">#</a> 单个文件部署方式</h3> <p>分别将bpmn文件和png图片文件部署。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">ProcessEngine</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">ProcessEngines</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">RepositoryService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">Deployment</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivitiDemo</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 部署流程定义
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//        1、创建ProcessEngine</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        2、得到RepositoryService实例</span>
        <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        3、使用RepositoryService进行部署</span>
        <span class="token class-name">Deployment</span> deployment <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">createDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addClasspathResource</span><span class="token punctuation">(</span><span class="token string">&quot;bpmn/evection.bpmn&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 添加bpmn资源</span>
                <span class="token punctuation">.</span><span class="token function">addClasspathResource</span><span class="token punctuation">(</span><span class="token string">&quot;bpmn/evection.png&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// 添加png资源</span>
                <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;出差申请流程&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">deploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        4、输出部署信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程部署id：&quot;</span> <span class="token operator">+</span> deployment<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程部署名称：&quot;</span> <span class="token operator">+</span> deployment<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>执行此操作后activiti会将上边代码中指定的bpm文件和图片文件保存在activiti数据库。</p> <h3 id="压缩包部署方式"><a href="#压缩包部署方式" class="header-anchor">#</a> 压缩包部署方式</h3> <p>将evection.bpmn和evection.png压缩成zip包。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deployProcessByZip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 定义zip输入流</span>
		<span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">this</span>
				<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>
						<span class="token string">&quot;bpmn/evection.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">ZipInputStream</span> zipInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipInputStream</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 获取repositoryService</span>
		<span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine
				<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 流程部署</span>
		<span class="token class-name">Deployment</span> deployment <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">createDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">addZipInputStream</span><span class="token punctuation">(</span>zipInputStream<span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">deploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程部署id：&quot;</span> <span class="token operator">+</span> deployment<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程部署名称：&quot;</span> <span class="token operator">+</span> deployment<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

</code></pre></div><p>执行此操作后activiti会将上边代码中指定的bpm文件和图片文件保存在activiti数据库。</p> <h3 id="操作数据表"><a href="#操作数据表" class="header-anchor">#</a> 操作数据表</h3> <p>流程定义部署后操作activiti的3张表如下：</p> <p>act_re_deployment     流程定义部署表，每部署一次增加一条记录</p> <p>act_re_procdef            流程定义表，部署每个新的流程定义都会在这张表中增加一条记录</p> <p>act_ge_bytearray        流程资源表</p> <p>接下来我们来看看，写入了什么数据：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> act_re_deployment <span class="token comment">#流程定义部署表，记录流程部署信息</span>
</code></pre></div><p>结果：</p> <p><img src="data:image/png;base64,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" alt="1575116732147"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> act_re_procdef <span class="token comment">#流程定义表，记录流程定义信息</span>
</code></pre></div><p>结果：</p> <p>注意，KEY 这个字段是用来唯一识别不同流程的关键字</p> <p><img src="data:image/png;base64,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" alt="1575116797665"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> act_ge_bytearray <span class="token comment">#资源表 </span>
</code></pre></div><p>结果：</p> <p><img src="data:image/png;base64,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" alt="1575116832196"></p> <p>注意：</p> <p>act_re_deployment和act_re_procdef一对多关系，一次部署在流程部署表生成一条记录，但一次部署可以部署多个流程定义，每个流程定义在流程定义表生成一条记录。每一个流程定义在act_ge_bytearray会存在两个资源记录，bpmn和png。</p> <p>建议：一次部署一个流程，这样部署表和流程定义表是一对一有关系，方便读取流程部署及流程定义信息。</p> <h2 id="启动流程实例"><a href="#启动流程实例" class="header-anchor">#</a> 启动流程实例</h2> <p>流程定义部署在activiti后就可以通过工作流管理业务流程了，也就是说上边部署的出差申请流程可以使用了。</p> <p>针对该流程，启动一个流程表示发起一个新的出差申请单，这就相当于java类与java对象的关系，类定义好后需要new创建一个对象使用，当然可以new多个对象。对于请出差申请流程，张三发起一个出差申请单需要启动一个流程实例，出差申请单发起一个出差单也需要启动一个流程实例。</p> <p>代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 启动流程实例
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStartProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//        1、创建ProcessEngine</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        2、获取RunTimeService</span>
        <span class="token class-name">RuntimeService</span> runtimeService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRuntimeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        3、根据流程定义Id启动流程</span>
        <span class="token class-name">ProcessInstance</span> processInstance <span class="token operator">=</span> runtimeService
                <span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        输出内容</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程定义id：&quot;</span> <span class="token operator">+</span> processInstance<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程实例id：&quot;</span> <span class="token operator">+</span> processInstance<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前活动Id：&quot;</span> <span class="token operator">+</span> processInstance<span class="token punctuation">.</span><span class="token function">getActivityId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>输出内容如下：</p> <p><img src="data:image/png;base64,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" alt="1575117588624"></p> <p><strong>操作数据表</strong></p> <p>act_hi_actinst     流程实例执行历史</p> <p>act_hi_identitylink  流程的参与用户历史信息</p> <p>act_hi_procinst      流程实例历史信息</p> <p>act_hi_taskinst       流程任务历史信息</p> <p>act_ru_execution   流程执行信息</p> <p>act_ru_identitylink  流程的参与用户信息</p> <p>act_ru_task              任务信息</p> <h2 id="任务查询"><a href="#任务查询" class="header-anchor">#</a> 任务查询</h2> <p>流程启动后，任务的负责人就可以查询自己当前需要处理的任务，查询出来的任务都是该用户的待办任务。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * 查询当前个人待执行的任务
      */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindPersonalTaskList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        任务负责人</span>
        <span class="token class-name">String</span> assignee <span class="token operator">=</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        创建TaskService</span>
        <span class="token class-name">TaskService</span> taskService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getTaskService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        根据流程key 和 任务负责人 查询任务</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Task</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> taskService<span class="token punctuation">.</span><span class="token function">createTaskQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection&quot;</span><span class="token punctuation">)</span> <span class="token comment">//流程Key</span>
                <span class="token punctuation">.</span><span class="token function">taskAssignee</span><span class="token punctuation">(</span>assignee<span class="token punctuation">)</span><span class="token comment">//只查询该任务负责人的任务</span>
                <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Task</span> task <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程实例id：&quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getProcessInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;任务id：&quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;任务负责人：&quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getAssignee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;任务名称：&quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>输出结果如下：</p> <div class="language- extra-class"><pre class="language-text"><code>流程实例id：2501
任务id：2505
任务负责人：zhangsan
任务名称：创建出差申请
</code></pre></div><h2 id="流程任务处理"><a href="#流程任务处理" class="header-anchor">#</a> 流程任务处理</h2> <p>任务负责人查询待办任务，选择任务进行处理，完成任务。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 完成任务</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">completTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//        获取引擎</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        获取taskService</span>
        <span class="token class-name">TaskService</span> taskService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getTaskService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        根据流程key 和 任务的负责人 查询任务</span>
<span class="token comment">//        返回一个任务对象</span>
        <span class="token class-name">Task</span> task <span class="token operator">=</span> taskService<span class="token punctuation">.</span><span class="token function">createTaskQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection&quot;</span><span class="token punctuation">)</span> <span class="token comment">//流程Key</span>
                <span class="token punctuation">.</span><span class="token function">taskAssignee</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//要查询的负责人</span>
                <span class="token punctuation">.</span><span class="token function">singleResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        完成任务,参数：任务id</span>
        taskService<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><h2 id="流程定义信息查询"><a href="#流程定义信息查询" class="header-anchor">#</a> 流程定义信息查询</h2> <p>查询流程相关信息，包含流程定义，流程部署，流程定义版本</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 查询流程定义
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">queryProcessDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//        获取引擎</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        repositoryService</span>
        <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        得到ProcessDefinitionQuery 对象</span>
        <span class="token class-name">ProcessDefinitionQuery</span> processDefinitionQuery <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">createProcessDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//          查询出当前所有的流程定义</span>
<span class="token comment">//          条件：processDefinitionKey =evection</span>
<span class="token comment">//          orderByProcessDefinitionVersion 按照版本排序</span>
<span class="token comment">//        desc倒叙</span>
<span class="token comment">//        list 返回集合</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ProcessDefinition</span><span class="token punctuation">&gt;</span></span> definitionList <span class="token operator">=</span> processDefinitionQuery<span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderByProcessDefinitionVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//      输出流程定义信息</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ProcessDefinition</span> processDefinition <span class="token operator">:</span> definitionList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程定义 id=&quot;</span><span class="token operator">+</span>processDefinition<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程定义 name=&quot;</span><span class="token operator">+</span>processDefinition<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程定义 key=&quot;</span><span class="token operator">+</span>processDefinition<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程定义 Version=&quot;</span><span class="token operator">+</span>processDefinition<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;流程部署ID =&quot;</span><span class="token operator">+</span>processDefinition<span class="token punctuation">.</span><span class="token function">getDeploymentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>输出结果：</p> <div class="language- extra-class"><pre class="language-text"><code>流程定义id：myEvection:1:4
流程定义名称：出差申请单
流程定义key：myEvection
流程定义版本：1
</code></pre></div><h2 id="流程删除"><a href="#流程删除" class="header-anchor">#</a> 流程删除</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 流程部署id</span>
		<span class="token class-name">String</span> deploymentId <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
		
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 通过流程引擎获取repositoryService</span>
		<span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine
				<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//删除流程定义，如果该流程定义已有流程实例启动则删除时出错</span>
		repositoryService<span class="token punctuation">.</span><span class="token function">deleteDeployment</span><span class="token punctuation">(</span>deploymentId<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//设置true 级联删除流程定义，即使该流程有流程实例启动也可以删除，设置为false非级别删除方式，如果流程</span>
		<span class="token comment">//repositoryService.deleteDeployment(deploymentId, true);</span>
	<span class="token punctuation">}</span>

</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ol><li>使用repositoryService删除流程定义，历史表信息不会被删除</li> <li>如果该流程定义下没有正在运行的流程，则可以用普通删除。</li></ol></div> <p>如果该流程定义下存在已经运行的流程，使用普通删除报错，可用级联删除方法将流程及相关记录全部删除。</p> <p>先删除没有完成流程节点，最后就可以完全删除流程定义信息</p> <p>项目开发中级联删除操作一般只开放给超级管理员使用.</p> <h2 id="流程资源下载"><a href="#流程资源下载" class="header-anchor">#</a> 流程资源下载</h2> <p>现在我们的流程资源文件已经上传到数据库了，如果其他用户想要查看这些资源文件，可以从数据库中把资源文件下载到本地。</p> <p>解决方案有：</p> <p>1、jdbc对blob类型，clob类型数据读取出来，保存到文件目录</p> <p>2、使用activiti的api来实现</p> <p>使用commons-io.jar 解决IO的操作</p> <p>引入commons-io依赖包</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过流程定义对象获取流程定义资源，获取bpmn和png</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOUtils</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//        获取引擎</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        获取repositoryService</span>
        <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        根据部署id 删除部署信息,如果想要级联删除，可以添加第二个参数，true</span>
        repositoryService<span class="token punctuation">.</span><span class="token function">deleteDeployment</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span>  <span class="token function">queryBpmnFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        1、得到引擎</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        2、获取repositoryService</span>
        <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        3、得到查询器：ProcessDefinitionQuery，设置查询条件,得到想要的流程定义</span>
        <span class="token class-name">ProcessDefinition</span> processDefinition <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">createProcessDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">singleResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        4、通过流程定义信息，得到部署ID</span>
        <span class="token class-name">String</span> deploymentId <span class="token operator">=</span> processDefinition<span class="token punctuation">.</span><span class="token function">getDeploymentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        5、通过repositoryService的方法，实现读取图片信息和bpmn信息</span>
<span class="token comment">//        png图片的流</span>
        <span class="token class-name">InputStream</span> pngInput <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>deploymentId<span class="token punctuation">,</span> processDefinition<span class="token punctuation">.</span><span class="token function">getDiagramResourceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        bpmn文件的流</span>
        <span class="token class-name">InputStream</span> bpmnInput <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>deploymentId<span class="token punctuation">,</span> processDefinition<span class="token punctuation">.</span><span class="token function">getResourceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        6、构造OutputStream流</span>
        <span class="token class-name">File</span> file_png <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;d:/evectionflow01.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file_bpmn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;d:/evectionflow01.bpmn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> bpmnOut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file_bpmn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> pngOut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file_png<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        7、输入流，输出流的转换</span>
        <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>pngInput<span class="token punctuation">,</span>pngOut<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>bpmnInput<span class="token punctuation">,</span>bpmnOut<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        8、关闭流</span>
        pngOut<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bpmnOut<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pngInput<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bpmnInput<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ol><li>deploymentId为流程部署ID</li> <li>resource_name为act_ge_bytearray表中NAME_列的值</li> <li>使用repositoryService的getDeploymentResourceNames方法可以获取指定部署下得所有文件的名称</li> <li>使用repositoryService的getResourceAsStream方法传入部署ID和资源图片名称可以获取部署下指定名称文件的输入流</li> <li>最后的将输入流中的图片资源进行输出</li></ol></div> <h2 id="流程历史信息的查看"><a href="#流程历史信息的查看" class="header-anchor">#</a> 流程历史信息的查看</h2> <p>即使流程定义已经删除了，流程执行的历史信息通过前面的分析，依然保存在activiti的act_hi_*相关的表中。所以我们还是可以查询流程执行的历史信息，可以通过HistoryService来查看相关的历史记录。</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 查看历史信息
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findHistoryInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//      获取引擎</span>
        <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        获取HistoryService</span>
        <span class="token class-name">HistoryService</span> historyService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getHistoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        获取 actinst表的查询对象</span>
        <span class="token class-name">HistoricActivityInstanceQuery</span> instanceQuery <span class="token operator">=</span> historyService<span class="token punctuation">.</span><span class="token function">createHistoricActivityInstanceQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        查询 actinst表，条件：根据 InstanceId 查询</span>
<span class="token comment">//        instanceQuery.processInstanceId(&quot;2501&quot;);</span>
<span class="token comment">//        查询 actinst表，条件：根据 DefinitionId 查询</span>
        instanceQuery<span class="token punctuation">.</span><span class="token function">processDefinitionId</span><span class="token punctuation">(</span><span class="token string">&quot;myEvection:1:4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        增加排序操作,orderByHistoricActivityInstanceStartTime 根据开始时间排序 asc 升序</span>
        instanceQuery<span class="token punctuation">.</span><span class="token function">orderByHistoricActivityInstanceStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        查询所有内容</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HistoricActivityInstance</span><span class="token punctuation">&gt;</span></span> activityInstanceList <span class="token operator">=</span> instanceQuery<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        输出</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HistoricActivityInstance</span> hi <span class="token operator">:</span> activityInstanceList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span><span class="token function">getActivityId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span><span class="token function">getActivityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span><span class="token function">getProcessInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;==========================&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/框架/Activiti/Activiti入门.html" class="prev">
        Activiti入门
      </a></span> <span class="next"><a href="/框架/Activiti/Activiti流程实例.html">
        Activiti流程实例
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d7322905.js" defer></script><script src="/assets/js/2.c3162e30.js" defer></script><script src="/assets/js/5.23e5bbd6.js" defer></script>
  </body>
</html>
